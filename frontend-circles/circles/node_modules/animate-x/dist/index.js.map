{"version":3,"sources":["../src/index.js"],"names":["Animate","options","defaultOptions","i","reset","engine","step","bind","stop","time","keyframe","from","to","state","onStep","animating","start","delta","duration","loop","end","easing","onEnd","pause","unpause","t","onStart","noop"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;IAEMA,O;AACL,kBAAYC,OAAZ,EAAoB;AAAA;;AACnBA,uCACIC,cADJ,EAEID,OAFJ;AAIA,OAAI,IAAIE,CAAR,IAAaF,OAAb,EAAqB;AACpB,QAAKE,CAAL,IAAUF,QAAQE,CAAR,CAAV;AACA;AACD,OAAKC,KAAL;AACA,OAAKC,MAAL,GAAc,uBAAQ,KAAKC,IAAL,CAAUC,IAAV,CAAe,IAAf,CAAR,CAAd;AACA;;;;0BACO;AACP,QAAKC,IAAL;AACA,QAAKC,IAAL,GAAY,CAAZ;AACA,QAAKC,QAAL,GAAgB,sBAAM,KAAKC,IAAX,EAAiB,KAAKC,EAAtB,CAAhB;AACA,QAAKC,KAAL,GAAa,KAAKH,QAAL,CAAc,CAAd,CAAb;AACA,QAAKI,MAAL,CAAY,KAAKD,KAAjB;AACA,UAAO,IAAP;AACA;;;0BACM;AACN,QAAKT,KAAL;AACA,QAAKW,SAAL,GAAiB,IAAjB;AACA,QAAKV,MAAL,CAAYW,KAAZ;AACA,UAAO,IAAP;AACA;;;yBACK;AACL,QAAKD,SAAL,GAAiB,KAAjB;AACA,OAAI,KAAKV,MAAT,EAAiB;AAChB,SAAKA,MAAL,CAAYG,IAAZ;AACA;AACD,UAAO,IAAP;AACA;;;0BACM;AACN,QAAKA,IAAL;AACA,QAAKH,MAAL,CAAYG,IAAZ;AACA,UAAO,IAAP;AACA;;;4BACS;AACT,QAAKO,SAAL,GAAiB,IAAjB;AACA,QAAKV,MAAL,CAAYW,KAAZ;AACA,UAAO,IAAP;AACA;;;uBACIC,K,EAAM;AACV,QAAKR,IAAL,IAAaQ,KAAb;AACA,OAAG,KAAKR,IAAL,IAAa,KAAKS,QAArB,EAA8B;AAC7B,QAAG,CAAC,KAAKC,IAAT,EAAe;AACd,UAAKC,GAAL;AACA,YAAO,IAAP;AACA,KAHD,MAII;AACH,UAAKX,IAAL,IAAa,KAAKS,QAAlB;AACA;AACD;AACD,QAAKL,KAAL,GAAa,KAAKH,QAAL,CAAc,KAAKW,MAAL,CAAY,KAAKZ,IAAL,GAAY,KAAKS,QAA7B,CAAd,CAAb;AACA,QAAKJ,MAAL,CAAY,KAAKD,KAAjB;AACA,UAAO,IAAP;AACA;;;wBACK;AACL,QAAKL,IAAL;AACA,QAAKK,KAAL,GAAa,KAAKH,QAAL,CAAc,CAAd,CAAb;AACA,QAAKI,MAAL,CAAY,KAAKD,KAAjB;AACA,QAAKS,KAAL;AACA,UAAO,IAAP;AACA;;;2BACO;AACP,OAAG,KAAKP,SAAR,EAAkB;AACjB,SAAKP,IAAL;AACA,IAFD,MAGI;AACH,SAAKQ,KAAL;AACA;AACD,UAAO,IAAP;AACA;;;gCACa;AACb,OAAI,KAAKD,SAAT,EAAoB;AACnB,SAAKQ,KAAL;AACA,IAFD,MAGK;AACJ,SAAKC,OAAL;AACA;AACD,UAAO,IAAP;AACA;;;;;AAGF,IAAMtB,iBAAiB;AACtBS,OAAM,CADgB;AAEtBC,KAAI,GAFkB;AAGtBM,WAAU,IAHY;AAItBT,OAAM,CAJgB;AAKtBM,YAAW,KALW;AAMtBM,SAAQ;AAAA,SAAKI,CAAL;AAAA,EANc;AAOtBC,UAASC,IAPa;AAQtBb,SAAQa,IARc;AAStBL,QAAOK,IATe;AAUtBR,OAAM;AAVgB,CAAvB;;AAaA,SAASQ,IAAT,GAAe,CAAE;;kBAEF3B,O","file":"index.js","sourcesContent":["import clone from 'clone'\nimport rafLoop from 'raf-loop'\nimport { tween } from 'keyframe-x'\n\nclass Animate{\n\tconstructor(options){\n\t\toptions = {\n\t\t\t...defaultOptions,\n\t\t\t...options,\n\t\t}\n\t\tfor(let i in options){\n\t\t\tthis[i] = options[i]\n\t\t}\n\t\tthis.reset()\n\t\tthis.engine = rafLoop(this.step.bind(this))\n\t}\n\treset() {\n\t\tthis.stop()\n\t\tthis.time = 0\n\t\tthis.keyframe = tween(this.from, this.to)\n\t\tthis.state = this.keyframe(0)\n\t\tthis.onStep(this.state)\n\t\treturn this\n\t}\n\tstart(){\n\t\tthis.reset()\n\t\tthis.animating = true\n\t\tthis.engine.start()\n\t\treturn this\n\t}\n\tstop(){\n\t\tthis.animating = false\n\t\tif (this.engine) {\n\t\t\tthis.engine.stop()\n\t\t}\n\t\treturn this\n\t}\n\tpause(){\n\t\tthis.stop()\n\t\tthis.engine.stop()\n\t\treturn this\n\t}\n\tunpause() {\n\t\tthis.animating = true\n\t\tthis.engine.start()\n\t\treturn this\n\t}\n\tstep(delta){\n\t\tthis.time += delta\n\t\tif(this.time >= this.duration){\n\t\t\tif(!this.loop) {\n\t\t\t\tthis.end()\n\t\t\t\treturn this\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.time -= this.duration\n\t\t\t}\n\t\t}\n\t\tthis.state = this.keyframe(this.easing(this.time / this.duration))\n\t\tthis.onStep(this.state)\n\t\treturn this\n\t}\n\tend() {\n\t\tthis.stop()\n\t\tthis.state = this.keyframe(1)\n\t\tthis.onStep(this.state)\n\t\tthis.onEnd()\n\t\treturn this\n\t}\n\ttoggle(){\n\t\tif(this.animating){\n\t\t\tthis.stop()\n\t\t}\n\t\telse{\n\t\t\tthis.start()\n\t\t}\n\t\treturn this\n\t}\n\ttogglePause() {\n\t\tif (this.animating) {\n\t\t\tthis.pause()\n\t\t}\n\t\telse {\n\t\t\tthis.unpause()\n\t\t}\n\t\treturn this\n\t}\n}\n\nconst defaultOptions = {\n\tfrom: 0,\n\tto: 100,\n\tduration: 1000,\n\ttime: 0,\n\tanimating: false,\n\teasing: t => t,\n\tonStart: noop,\n\tonStep: noop,\n\tonEnd: noop,\n\tloop: false,\n}\n\nfunction noop(){}\n\nexport default Animate"]}